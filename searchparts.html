<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Search Results â€“ Automotive Spares Hunters</title>

<style>
body{
    background:#0B132B;
    font-family:Arial;
}

.container{
    margin:20px 8%;
    background:#F5F7FA;
    padding:20px;
    border-radius:12px;
}

.card{
    background:white;
    padding:15px;
    margin-top:10px;
    border-radius:8px;
    border-left:5px solid #FCA311;
}

.card:hover{
    transform: translateY(-4px);
}
</style>
</head>

<body>

<div class="container">
    <h2>Search Results</h2>
    <div id="results"></div>
</div>

<script>
// Simulated database
const partsDatabase = [
  { car: "Toyota Hilux", part: "Alternator", supplier: "Local Supplier", price: 2500 },
  { car: "Toyota Hilux", part: "Brake Pads", supplier: "Regional Supplier", price: 1200 },
  { car: "Ford Ranger", part: "Starter Motor", supplier: "Regional Supplier", price: 3000 }
];

// Read URL parameters
const params = new URLSearchParams(window.location.search);
const carQuery = params.get("car")?.toLowerCase() || "";
const partQuery = params.get("part")?.toLowerCase() || "";

const resultsDiv = document.getElementById("results");

const results = partsDatabase.filter(item =>
    item.car.toLowerCase().includes(carQuery) &&
    item.part.toLowerCase().includes(partQuery)
);

if(results.length === 0){
    resultsDiv.innerHTML = "<p>No matching spare parts found.</p>";
}else{
    results.forEach(item => {
        const finalPrice = (item.price * 1.14).toFixed(2);

        resultsDiv.innerHTML += `
        <div class="card">
            <p><b>${item.part}</b></p>
            <p>Car: ${item.car}</p>
            <p>Supplier: ${item.supplier}</p>
            <p>Base Price: P${item.price}</p>
            <p><b>Final Price (14% markup): P${finalPrice}</b></p>
        </div>`;
    });
}
</script>

</body>
</html>